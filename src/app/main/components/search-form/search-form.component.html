<div class="search-form-wrapper container">
  <form class="example-form search-form">
    <mat-radio-group aria-label="Select an option">
      <mat-radio-button value="1" color="primary" checked>Round Trip</mat-radio-button>
      <mat-radio-button value="2" color="primary">One Way</mat-radio-button>
    </mat-radio-group>

    <div class="locations-wrap">
      <app-autocomplete-dropdown
      label="From"
      placeholder="Choose your starting point"
      [items] = "locations"
      #fromLocation>
    </app-autocomplete-dropdown>
      <app-autocomplete-dropdown
      label="Destination"
      placeholder="Choose your destination"
      [items] = "locations"
      #toLocation>
    </app-autocomplete-dropdown>
      <button class="swap-btn" mat-mini-fab color="primary" matTooltip="Basic">
        <mat-icon><span class="material-symbols-outlined">
          sync_alt
          </span></mat-icon>
      </button>
    </div>

    <div class="details-wrap" [ngClass]="{'is-xsmall': isFormVertical}">
      <mat-form-field class="example-form-field dates-field" appearance="outline">
        <mat-label>Enter a date range</mat-label>
        <mat-date-range-input [rangePicker]="rangePicker">
          <input matStartDate placeholder="Start date">
          <input matEndDate placeholder="End date">
        </mat-date-range-input>
        <mat-hint>MM/DD/YYYY â€“ MM/DD/YYYY</mat-hint>
        <mat-datepicker-toggle matIconSuffix [for]="rangePicker"></mat-datepicker-toggle>
        <mat-date-range-picker #rangePicker>
          <mat-date-range-picker-actions>
            <button mat-button color="primary" matDateRangePickerCancel>Cancel</button>
            <button mat-button color="primary" matDateRangePickerApply>Ok</button>
          </mat-date-range-picker-actions>
        </mat-date-range-picker>
      </mat-form-field>
      <mat-form-field class="example-full-width" appearance="outline">
        <mat-label>Passengers</mat-label>
        <mat-select disableRipple multiple #passengersChosen>
          <mat-select-trigger>
            <ng-container *ngFor="let passenger of passengers; let i = index">
              <ng-container *ngIf="passengersChosen?.value?.includes(passenger.value)">
                {{ passenger.count ? passenger.count : '' }} {{ passenger.count ? passengersChosen.value?.[i] : '' }} {{ passenger.count && passengersChosen.value?.length > i + 1 ? ',' : '' }}
              </ng-container>
            </ng-container>
            <!-- {{ passengersChosen.value?.[0] }}
            <span *ngIf="(passengersChosen.value?.length) > 1">
              , {{passengersChosen.value?.[1]}}
            </span>
            <span *ngIf="(passengersChosen.value?.length) > 2">
              , {{passengersChosen.value?.[2]}}
            </span> -->
          </mat-select-trigger>
          <mat-option #passengerOption class="passenger-options" *ngFor="let passenger of passengers" [value]="passenger.value">
            <div class="passenger-option">
              <span class="passenger-category">{{ passenger.viewCategory }}</span>
              <span class="passenger-desc">{{ passenger.viewDesc }}</span>
            </div>
            <div class="passenger-counter">
              <div class="remove-btn" [ngClass]="{'disabled': !passenger.count}" (click)="removePassenger(passenger)">
                <mat-icon>remove</mat-icon>
              </div>
              <span class="count-number">{{ passenger.count }}</span>
              <div class="add-btn" (click)="addPassenger(passenger)">
                <mat-icon color="gray">add</mat-icon>
              </div>
            </div>
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>


    <button class="search-btn" mat-flat-button color="primary" (click)="submitSearchRequest()">Search</button>
  </form>
</div>


